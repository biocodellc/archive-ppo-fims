<div class="col-xs-12" ng-controller="QueryFormController as queryFormVm">
    <form method="POST" name="queryForm">

        <div class="form-group" style="margin-bottom: 0">
            <input type="text" placeholder="Query String..." ng-model="queryFormVm.params.queryString"
                   class="form-control"/>
            <a class="help-block text-right" href="#"
               ng-click="queryFormVm.moreSearchOptions = !queryFormVm.moreSearchOptions">
                More search options</a>
        </div>

        <div ng-show="queryFormVm.moreSearchOptions">

            <div class="form-group">
                <label class="control-label">Vernacular Name</label>
                <div class="filters">
                    <select class="form-control input-sm" ng-options="v as v for v in queryFormVm.vernaculars"
                            ng-model="queryFormVm.params.vernacular">
                        <option value="">-- Choose a Vernacular --</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label">Phenological Traits</label>

                <div class="filters">
                    <ui-select multiple ng-model="queryFormVm.params.traits">
                        <ui-select-match placeholder="Select traits...">{{$item.value}}</ui-select-match>
                        <ui-select-choices
                                repeat="t in (queryFormVm.traits | filter: {value: $select.search}) track by $index"
                                position="down">
                            <div ng-bind-html="t.value | highlight: $select.search | trusted_html"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" ng-click="queryFormVm.queryJson()" class="btn pull-right btn-primary"><span
                    class="glyphicon glyphicon-search"></span> Search
            </button>
        </div>
    </form>
</div>